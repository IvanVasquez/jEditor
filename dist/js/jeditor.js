!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.$=t():e.$=t()}(self,(function(){return(()=>{"use strict";var e={996:e=>{var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function i(e,t){try{return t in e}catch(e){return!1}}function c(e,n,s){(s=s||{}).arrayMerge=s.arrayMerge||r,s.isMergeableObject=s.isMergeableObject||t,s.cloneUnlessOtherwiseSpecified=o;var l=Array.isArray(n);return l===Array.isArray(e)?l?s.arrayMerge(e,n,s):function(e,t,n){var r={};return n.isMergeableObject(e)&&a(e).forEach((function(t){r[t]=o(e[t],n)})),a(t).forEach((function(a){(function(e,t){return i(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(i(e,a)&&n.isMergeableObject(t[a])?r[a]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"==typeof n?n:c}(a,n)(e[a],t[a],n):r[a]=o(t[a],n))})),r}(e,n,s):o(n,s)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var s=c;e.exports=s}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{n.r(o),n.d(o,{jEditor:()=>U});var e={};function t(e){var t=document.querySelector(".helper"),n=_jeditor.getOptions(),o=n.locale,a=n.sizeUnit,i=parseInt(e.getAttribute("data-element")),c=r(a,n.sizeDecimals,n.dpi,e.offsetHeight)+a,s=r(a,n.sizeDecimals,n.dpi,e.offsetWidth)+a,l=r(a,n.sizeDecimals,n.dpi,e.offsetTop)+a,u=r(a,n.sizeDecimals,n.dpi,e.offsetLeft)+a,d='<div class="content">';t.innerHTML='<div class="header">'.concat(n.elements[i].text,"</div>"),d+="<div><strong>".concat(o.height,"</strong>").concat(c,"</div>"),d+="<div><strong>".concat(o.width,"</strong>").concat(s,"</div>"),d+="<div><strong>".concat(o.top,"</strong>").concat(l,"</div>"),d+="<div><strong>".concat(o.left,"</strong>").concat(u,"</div>"),t.innerHTML+="".concat(d,"</div>")}function r(e,t,n,o){switch(e){case"mm":return a(25.4*o/n,t);case"cm":return a(25.4*o/n/10,t);case"inch":return a(o/n,t);default:return a(o,t)}}function a(e,t){return e.toFixed(t)}n.r(e),n.d(e,{addElement:()=>p,cancelModifyElement:()=>y,changePaper:()=>w,exitConfirmation:()=>E,getElementData:()=>v,modifyElement:()=>g,removeElement:()=>h,renderObjects:()=>L,saveData:()=>z,setPageBackground:()=>P,setPaper:()=>T,toast:()=>_,toggleRender:()=>A,unsaved:()=>j,zoomIn:()=>b,zoomOut:()=>S,zoomReset:()=>O});var i=n(996),c=function(){return _jeditor.getOptions()},s=function(e){return _jeditor.setOptions(e)},l=function(){return _jeditor.getData()},u=function(e){return _jeditor.setData(e)};function d(e){var t=document.querySelector(".page");s({zoom:e}),t.style.zoom=e}function f(e,t){document.querySelectorAll('[data-element="'.concat(t,'"].btn')).forEach((function(e){e.classList.toggle("d-none")})),e.classList.toggle("active")}function m(e){var t=l(),n=function(e,t,n){for(var o=0;o<e.length;o+=1)if(e[o].element===n)return o;return-1}(t,0,parseInt(e.getAttribute("data-element")));t[n].width=e.offsetWidth,t[n].height=e.offsetHeight,t[n].top=e.offsetTop,t[n].left=e.offsetLeft,u(t),j()}function v(e,t){var n,o,r,a,i,c=t.settings;return{element:e,fontSize:c.fontSize?t.fontSize:20,width:null!==(n=t.width)&&void 0!==n?n:100,height:null!==(o=t.height)&&void 0!==o?o:20,top:null!==(r=t.top)&&void 0!==r?r:0,left:null!==(a=t.left)&&void 0!==a?a:0,align:c.align?t.align:"initial",placeholder:c.placeholder?t.placeholder:"",value:null!==(i=t.value)&&void 0!==i?i:""}}function p(e){var t;e.stopPropagation();var n=e.target.closest("li"),o=parseInt(n.getAttribute("data-element")),r=i(M,null===(t=c())||void 0===t?void 0:t.elements[o]);if(n.classList.contains("active"))return!1;f(n,o);var a=l();a.push(v(o,r));var s=u(a);return L(),s}function h(e){e.stopPropagation();var t=e.target.closest("li"),n=parseInt(t.getAttribute("data-element")),o=document.querySelector('.object[data-element="'.concat(n,'"]'));if(!t.classList.contains("active"))return!1;f(t,n);var r=l().filter((function(e){return e.element!==n}));return o.remove(),u(r)}function g(e){var t=e.target.getAttribute("data-element"),n=document.querySelector(".detail .content"),o=document.querySelector(".detail .actions"),r=c(),a=r.elements[t];document.querySelector(".detail").classList.remove("d-none"),document.querySelector(".elements-wrapper").classList.add("d-none"),document.querySelector(".detail .header").innerHTML=a.text,n.innerHTML="",o.innerHTML='<button class="btn warning">'.concat(r.locale.return,"</button>"),document.querySelector(".detail .actions button.warning").addEventListener("click",r.events.cancelModifyElement)}function y(e){var t=document.querySelector(".detail .content");document.querySelector(".detail").classList.add("d-none"),document.querySelector(".elements-wrapper").classList.remove("d-none"),t.innerHTML=""}function b(){d(c().zoom+c().zoomIncrement)}function S(){d(c().zoom-c().zoomIncrement)}function O(){var e=document.querySelector(".document").offsetWidth,t=document.querySelector(".page").offsetWidth;d(Math.round(e/t*10)/10-.13)}function w(e){var t=Object.keys(c().paperSizes),n=t.indexOf(c().paperSize)+1;T(e,t[n===t.length?0:n])}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a4",n=c().paperSizes[t],o=document.querySelector(".page");return n&&(o.style.width="".concat(n.width,"px"),o.style.height="".concat(n.height,"px"),s({paperSize:t}),O(),_(c().locale.paperChange.replace(":size",n.name),"bg-success")),!1}function L(){document.querySelector(".page").innerHTML="",l().forEach((function(e){!function(e){var t,n,o,r=document.querySelector(".page"),a=i(M,null===(t=c())||void 0===t?void 0:t.elements[e.element]),s=a.settings;r.innerHTML+='<div class="object" data-element="'.concat(e.element,'">').concat(s.placeholder?a.placeholder:""," ").concat(null!==(n=a.value)&&void 0!==n?n:"","</div>");var l=document.querySelector('[data-element="'.concat(e.element,'"].object'));l.style.width=e.width+"px",l.style.height=e.height+"px",l.style.top=e.top+"px",l.style.left=e.left+"px",l.style.textAlign=null!==(o=e.align)&&void 0!==o?o:"initial";var u=document.querySelector('li[data-element="'.concat(e.element,'"]'));c().rendered&&l.classList.add("rendered"),u.classList.contains("active")||f(u,e.element)}(i(I,e))}));var e=c().helper,n=document.querySelectorAll(".object:not(.rendered)");!function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=arguments.length>2?arguments[2]:void 0,r=0,a=0,i=0,c=0,s=null,l=100,u=document.querySelector(".helper");function d(e){if(e.target.classList.contains("resizer"))return!1;(s=this).style.zIndex=""+ ++l,e=e||window.event,i=e.clientX,c=e.clientY,document.onmouseup=m,document.onmousemove=f}function f(e){if(s){e=e||window.event,r=i-e.clientX,a=c-e.clientY,i=e.clientX,c=e.clientY;var l=s.parentNode.offsetHeight-s.offsetHeight,u=s.parentNode.offsetWidth-s.offsetWidth+1,d=s.offsetTop-a;d=d<0?0:d>l?l:d,s.style.top=d+"px";var f=s.offsetLeft-r;f=f<0?0:f>u?u:f,s.style.left=f+"px",n(s),o&&t(s)}}function m(){document.onmouseup=null,document.onmousemove=null,o&&(u.innerHTML="")}e.forEach((function(e){e.onmousedown=d}))}(n,m,e),function(e){var n,o,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},c=arguments.length>2?arguments[2]:void 0,s=null,l=document.querySelector(".helper");function u(e){s=this.parentObject,n=e.clientX,o=e.clientY,r=parseInt(document.defaultView.getComputedStyle(s).width,10),a=parseInt(document.defaultView.getComputedStyle(s).height,10),document.documentElement.addEventListener("mousemove",d,!1),document.documentElement.addEventListener("mouseup",f,!1)}function d(e){var l=r+e.clientX-n;s.style.width=(l<10?10:l)+"px";var u=a+e.clientY-o;s.style.height=(u<10?10:u)+"px",i(s),c&&t(s)}function f(){document.documentElement.removeEventListener("mousemove",d,!1),document.documentElement.removeEventListener("mouseup",f,!1),c&&(l.innerHTML="")}e.forEach((function(e){var t=document.createElement("div");t.className="resizer resizer-right",e.appendChild(t),t.addEventListener("mousedown",u,!1),t.parentObject=e;var n=document.createElement("div");n.className="resizer resizer-bottom",e.appendChild(n),n.addEventListener("mousedown",u,!1),n.parentObject=e;var o=document.createElement("div");o.className="resizer resizer-both",e.appendChild(o),o.addEventListener("mousedown",u,!1),o.parentObject=e}))}(n,m,e)}function A(){s({rendered:!c().rendered}),L()}function _(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=document.querySelector(".toasts-wrapper"),r=document.createElement("div");r.className="toast ".concat(t),r.innerHTML=e,o.appendChild(r),setTimeout((function(){r.remove()}),n)}function j(){window.addEventListener("beforeunload",E),c().saveButton&&(document.querySelector(".btn[data-action=saveData]").className="btn primary")}function E(e){return(e||window.event).returnValue="Changes you made may not be saved.","Changes you made may not be saved."}function z(){window.removeEventListener("beforeunload",E),_(c().locale.saved,"bg-success"),c().saveButton&&(document.querySelector(".btn[data-action=saveData]").className="btn")}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;document.querySelector(".page").style.backgroundImage=""!==e&&null!==e?"url(".concat(e,")"):""}var x={background:null,container:".jEditor",data:[],dpi:150,elements:[],elementAction:"addElement",elementFunctions:[{action:"modifyElement",content:'<span class="fa fa-edit"></span>',class:"btn info",show:!1},{action:"removeElement",content:'<span class="fa fa-times"></span>',class:"btn danger",show:!1}],events:e,extraFunctions:[],helper:!0,locale:{width:"Width",height:"Height",top:"Top margin",left:"Left margin",return:"Return",paperChange:"The paper has been set to :size",saved:"Changes saved"},paperSize:"a4",paperSizes:{letter:{name:"Letter",width:1276,height:1648},a4:{name:"A4",width:1240,height:1754},a5:{name:"A5",width:1240,height:874}},rendered:!1,saveButton:!1,settings:[{action:"toggleRender",content:'<span class="fa fa-edit"></span>',class:"btn",show:!0},{action:"changePaper",content:'<span class="fa fa-file"></span>',class:"btn",show:!0},{action:"zoomOut",content:'<span class="fa fa-minus"></span>',class:"btn",show:!0},{action:"zoomIn",content:'<span class="fa fa-plus"></span>',class:"btn",show:!0},{action:"zoomReset",content:'<span class="fa fa-expand-arrows-alt"></span>',class:"btn",show:!0}],sizeDecimals:1,sizeUnit:"cm",title:"jEditor",zoom:1,zoomIncrement:.1},M={align:"initial",fontSize:20,height:20,left:0,placeholder:"",settings:{align:!0,fontSize:!0,placeholder:!0},top:0,value:"",width:100},I={element:null,fontSize:20,width:100,height:20,top:0,left:0,align:"initial",placeholder:"",value:""};function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=n(996),k=!1;const H=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"getOptions",(function(){return n._ACTUAL_OPTIONS})),C(this,"setOptions",(function(e){return n._ACTUAL_OPTIONS=N(n._ACTUAL_OPTIONS,e)})),C(this,"getData",(function(){return n._ACTUAL_OPTIONS.data.map((function(e){return N(I,e)}))})),C(this,"setData",(function(e){return n._ACTUAL_OPTIONS.data=e.map((function(e){return N(I,e)}))})),this._ACTUAL_OPTIONS=N(x,t)}var t,n;return t=e,(n=[{key:"render",value:function(){if(k)return console.error("jEditor already rendered, try using _jeditor.renderObjects() to redraw");this.createStructure(),this.renderElements(),this.renderSettings(),this.renderExtraSettings(),this.renderObjects(),this.setBackground(),k=!0}},{key:"createStructure",value:function(){var e=document.querySelector(this._ACTUAL_OPTIONS.container);e.innerHTML+='<div class="panel"></div><div class="document"></div><div class="toasts-wrapper"></div>';var t=e.querySelector(".panel");t.innerHTML+='<div class="title">'.concat(this._ACTUAL_OPTIONS.title,"</div>"),t.innerHTML+='<div class="elements-wrapper"><ul class="elements"></ul></div>',t.innerHTML+='<div class="detail d-none"><div class="header"></div><div class="content"></div><div class="actions"></div></div>',t.innerHTML+='<div class="settings"><div class="extra"></div><div class="base"></div></div>',t.innerHTML+='<div class="helper"></div>',e.querySelector(".document").innerHTML+='<div class="page-wrapper"><div class="page"></div></div>'}},{key:"renderElements",value:function(){var e,t=this._ACTUAL_OPTIONS,n=document.querySelector(".elements");null===(e=t.elements)||void 0===e||e.forEach((function(e,o){var r,a="";null===(r=t.elementFunctions)||void 0===r||r.forEach((function(e){a+='<button class="'.concat(e.class," ").concat(e.show?"":"d-none",'" data-action="').concat(e.action,'" data-element="').concat(o,'">').concat(e.content,"</button>")})),n.innerHTML+='<li class="element" id="element_'.concat(o,'" data-action="').concat(t.elementAction,'" data-element="').concat(o,'">            \n            <div class="text">').concat(e.text,'</div>\n            <div class="actions" data-id="').concat(o,'">').concat(a,"</div>            \n            </li>")}))}},{key:"renderSettings",value:function(){var e,t=document.querySelector(".settings .base");null===(e=this._ACTUAL_OPTIONS.settings)||void 0===e||e.forEach((function(e,n){t.innerHTML+='<button class="'.concat(e.class," ").concat(e.show?"":"d-none",'" data-action="').concat(e.action,'" data-setting="').concat(n,'">').concat(e.content,"</button>")}))}},{key:"renderExtraSettings",value:function(){var e,t=document.querySelector(".settings .extra");null===(e=this._ACTUAL_OPTIONS.extraFunctions)||void 0===e||e.forEach((function(e,n){t.innerHTML+='<button class="'.concat(e.class," ").concat(e.show?"":"d-none",'" data-action="').concat(e.action,'" data-setting="').concat(n,'">').concat(e.content,"</button>")}))}},{key:"renderObjects",value:function(){this._ACTUAL_OPTIONS.events.renderObjects()}},{key:"setPaper",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._ACTUAL_OPTIONS.paperSize;this._ACTUAL_OPTIONS.events.setPaper(void 0,e)}},{key:"setBackground",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._ACTUAL_OPTIONS.background;this._ACTUAL_OPTIONS.background=e,this._ACTUAL_OPTIONS.events.setPageBackground(e)}},{key:"clearBackground",value:function(){this._ACTUAL_OPTIONS.background=null,this._ACTUAL_OPTIONS.events.setPageBackground()}},{key:"triggers",value:function(){var e=this._ACTUAL_OPTIONS;document.querySelectorAll("[data-action]").forEach((function(t){var n=t.getAttribute("data-action"),o="function"==typeof window[n]?window[n]:e.events[n];t.addEventListener("click",o)}))}}])&&q(t.prototype,n),e}(),U=function(e){return window._jeditor?console.error("A variable _jeditor has already been created"):(window._jeditor=new H(e),_jeditor.render(),_jeditor.triggers(),_jeditor.setPaper(),_jeditor)}})(),o})()}));